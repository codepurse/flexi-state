import{useRef as r,useReducer as n,useEffect as t}from"react";function e(){return e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},e.apply(this,arguments)}var o=function r(n,t){var o=e({},n);for(var u in t)o[u]="object"==typeof t[u]&&null!==t[u]?r(n[u]||{},t[u]):t[u];return o},u=function(u,i){void 0===i&&(i=[]);for(var c=u({}),f=new Set,a=u,l=function(){return void 0===c&&(c=a(null),a=null),c},v=function(r){var n=o(c,r);(function(r,n){if(r===n)return!0;if("object"!=typeof r||null===r||"object"!=typeof n||null===n)return!1;for(var t in r)if(r.hasOwnProperty(t)&&(!n.hasOwnProperty(t)||r[t]!==n[t]))return!1;for(var e in n)if(n.hasOwnProperty(e)&&!r.hasOwnProperty(e))return!1;return!0})(c,n)||(c=n,f.forEach(function(r){return r(c)}))},s=function(r){return f.add(r),function(){f.delete(r)}},p={},b=function(){var r=h[y],n=r[1];"function"==typeof n&&(p[r[0]]=function(){var r=n.apply(void 0,[].slice.call(arguments))(c);v(r)})},y=0,h=Object.entries(u(c));y<h.length;y++)b();return i.forEach(function(r){return r({getState:l,setState:v,subscribe:s})}),function(o){void 0===o&&(o=l);var u=r(o(c)),i=n(function(r){return r+1},0)[1];return t(function(){var r=s(function(r){var n=o(r);u.current!==n&&(u.current=n,i())});return function(){r()}},[o]),e({},u.current,p,{getState:l,setState:v,subscribe:s})}};export{u as createStore};
//# sourceMappingURL=index.esm.js.map
