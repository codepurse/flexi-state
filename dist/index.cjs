var r=require("react");function t(){return t=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},t.apply(this,arguments)}var n=function r(n,e){var u=t({},n);for(var o in e)u[o]="object"==typeof e[o]&&null!==e[o]?r(n[o]||{},e[o]):e[o];return u};exports.createStore=function(e,u){void 0===u&&(u=[]);for(var o=e({}),c=new Set,i=e,f=function(){return void 0===o&&(o=i(null),i=null),o},a=function(r){var t=n(o,r);(function(r,t){if(r===t)return!0;if("object"!=typeof r||null===r||"object"!=typeof t||null===t)return!1;for(var n in r)if(r.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||r[n]!==t[n]))return!1;for(var e in t)if(t.hasOwnProperty(e)&&!r.hasOwnProperty(e))return!1;return!0})(o,t)||(o=t,c.forEach(function(r){return r(o)}))},s=function(r){return c.add(r),function(){c.delete(r)}},l={},v=function(){var r=b[p],t=r[1];"function"==typeof t&&(l[r[0]]=function(){var r=t.apply(void 0,[].slice.call(arguments))(o);a(r)})},p=0,b=Object.entries(e(o));p<b.length;p++)v();return u.forEach(function(r){return r({getState:f,setState:a,subscribe:s})}),function(n){void 0===n&&(n=f);var e=r.useRef(n(o)),u=r.useReducer(function(r){return r+1},0)[1];return r.useEffect(function(){var r=s(function(r){var t=n(r);e.current!==t&&(e.current=t,u())});return function(){r()}},[n]),t({},e.current,l,{getState:f,setState:a,subscribe:s})}};
//# sourceMappingURL=index.cjs.map
