var r=require("react"),t=require("react/jsx-runtime");function e(){return e=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},e.apply(this,arguments)}var n=function r(t,n){var i=e({},t);for(var o in n)i[o]="object"==typeof n[o]&&null!==n[o]?r(t[o]||{},n[o]):n[o];return i};exports.HydrateState=function(e){var n=e.children,i=r.useState(!1),o=i[0],u=i[1];return r.useEffect(function(){u(!0)},[]),/*#__PURE__*/t.jsx(t.Fragment,{children:o?/*#__PURE__*/t.jsx("div",{children:n}):null})},exports.createStore=function(t,i){void 0===i&&(i=[]);for(var o=t({}),u=new Set,c=t,f=function(){return void 0===o&&(o=c(null),c=null),o},a=function(r){var t=n(o,r);(function(r,t){if(r===t)return!0;if("object"!=typeof r||null===r||"object"!=typeof t||null===t)return!1;for(var e in r)if(r.hasOwnProperty(e)&&(!t.hasOwnProperty(e)||r[e]!==t[e]))return!1;for(var n in t)if(t.hasOwnProperty(n)&&!r.hasOwnProperty(n))return!1;return!0})(o,t)||(o=t,u.forEach(function(r){return r(o)}))},s=function(r){return u.add(r),function(){u.delete(r)}},l={},d=function(){var r=p[v],t=r[1];"function"==typeof t&&(l[r[0]]=function(){var r=t.apply(void 0,[].slice.call(arguments))(o);a(r)})},v=0,p=Object.entries(t(o));v<p.length;v++)d();return i.forEach(function(r){return r({getState:f,setState:a,subscribe:s})}),function(t){void 0===t&&(t=f);var n=r.useRef(t(o)),i=r.useReducer(function(r){return r+1},0)[1];return r.useEffect(function(){var r=s(function(r){var e=t(r);n.current!==e&&(n.current=e,i())});return function(){r()}},[t]),e({},n.current,l,{getState:f,setState:a,subscribe:s})}},exports.preserve=function(r,t,e){return function(n){var i=function(){try{if("undefined"!=typeof window){var e=window[r].getItem(t);if(e)return JSON.parse(e)}}catch(r){console.error("Error while loading persisted state:",r)}}();if(n.setState(i||n.getState()),"undefined"!=typeof window)try{return n.subscribe(function(n){!function(n){try{if("undefined"!=typeof window&&window[r]){var i={};e.forEach(function(r){i[r]=n[r]});var o=JSON.stringify(i);window[r].setItem(t,o)}}catch(r){console.error("Error while persisting state:",r)}}(n)})}catch(r){}}};
//# sourceMappingURL=index.cjs.map
