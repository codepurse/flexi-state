var t=require("react");function r(){return r=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},r.apply(this,arguments)}var n=function t(n,e){var o=r({},n);for(var i in e)o[i]="object"==typeof e[i]&&null!==e[i]?t(n[i]||{},e[i]):e[i];return o};exports.HydrateState=function(r){var n=r.children,e=t.useState(!1),o=e[0],i=e[1];return t.useEffect(function(){i(!0)},[]),h(Fragment,null,o?h("div",null,n):null)},exports.createStore=function(e,o){void 0===o&&(o=[]);for(var i=e({}),u=new Set,c=e,f=function(){return void 0===i&&(i=c(null),c=null),i},a=function(t){var r=n(i,t);(function(t,r){if(t===r)return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;for(var n in t)if(t.hasOwnProperty(n)&&(!r.hasOwnProperty(n)||t[n]!==r[n]))return!1;for(var e in r)if(r.hasOwnProperty(e)&&!t.hasOwnProperty(e))return!1;return!0})(i,r)||(i=r,u.forEach(function(t){return t(i)}))},s=function(t){return u.add(t),function(){u.delete(t)}},l={},v=function(){var t=p[d],r=t[1];"function"==typeof r&&(l[t[0]]=function(){var t=r.apply(void 0,[].slice.call(arguments))(i);a(t)})},d=0,p=Object.entries(e(i));d<p.length;d++)v();return o.forEach(function(t){return t({getState:f,setState:a,subscribe:s})}),function(n){void 0===n&&(n=f);var e=t.useRef(n(i)),o=t.useReducer(function(t){return t+1},0)[1];return t.useEffect(function(){var t=s(function(t){var r=n(t);e.current!==r&&(e.current=r,o())});return function(){t()}},[n]),r({},e.current,l,{getState:f,setState:a,subscribe:s})}},exports.preserve=function(t,r,n){return function(e){var o=function(){try{if("undefined"!=typeof window){var n=window[t].getItem(r);if(n)return JSON.parse(n)}}catch(t){console.error("Error while loading persisted state:",t)}}();if(e.setState(o||e.getState()),"undefined"!=typeof window)try{return e.subscribe(function(e){!function(e){try{if("undefined"!=typeof window&&window[t]){var o={};n.forEach(function(t){o[t]=e[t]});var i=JSON.stringify(o);window[t].setItem(r,i)}}catch(t){console.error("Error while persisting state:",t)}}(e)})}catch(t){}}};
//# sourceMappingURL=index.cjs.map
