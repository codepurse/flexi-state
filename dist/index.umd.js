!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n((t||self).liteState={},t.react)}(this,function(t,n){function e(){return e=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},e.apply(this,arguments)}var r=function(t,n){if(t===n)return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;for(var e in t)if(t.hasOwnProperty(e)&&(!n.hasOwnProperty(e)||t[e]!==n[e]))return!1;for(var r in n)if(n.hasOwnProperty(r)&&!t.hasOwnProperty(r))return!1;return!0},o=function t(n,r){var o=e({},n);for(var i in r)o[i]="object"==typeof r[i]&&null!==r[i]?t(n[i]||{},r[i]):r[i];return o};t.createStore=function(t,i,u){void 0===i&&(i=[]),void 0===u&&(u={});for(var f=t({}),c=new Set,a=t,s=u.onPreStateChange,l=u.onPostStateChange,v=function(){return void 0===f&&(f=a(null),a=null),f},p=function(t){var n=o(f,t);if(!r(f,n)){var e=n;"function"==typeof s&&(e=s(f,n)||n),f=e,c.forEach(function(t){return t(f)});var i=f;"function"==typeof l&&(i=l(f)||f),"function"==typeof u.onStateChange&&u.onStateChange(f,i),r(f,i)||(f=i,c.forEach(function(t){return t(f)}))}},d={},y=function(){var t=b[h],n=t[1];"function"==typeof n&&(d[t[0]]=function(){var t=n.apply(void 0,[].slice.call(arguments))(f);p(t)})},h=0,b=Object.entries(t(f));h<b.length;h++)y();var g=function(t){return c.add(t),function(){c.delete(t)}};return i.forEach(function(t){var n=t({getState:v,setState:p,subscribe:g,state:f,actions:d});if(n){var r=n.state,o=n.actions,i=void 0===o?{}:o;f=e({},f,void 0===r?{}:r),d=e({},d,i)}}),function(t){void 0===t&&(t=function(t){return t});var o=n.useRef(t(f)),i=n.useReducer(function(t){return t+1},0)[1];return n.useEffect(function(){var n=g(function(n){var e=t(n);r(o.current,e)||(o.current=e,i())});return function(){n()}},[t]),t&&t.toString()!==function(t){return t}.toString()?e({},o.current,Object.fromEntries(Object.entries(d).filter(function(t){return t[0]in o.current}))):e({},o.current,d)}}});
//# sourceMappingURL=index.umd.js.map
