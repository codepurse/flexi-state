!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t||self).liteState={},t.react)}(this,function(t,e){function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n.apply(this,arguments)}var r=function t(e,r){var o=n({},e);for(var i in r)o[i]="object"==typeof r[i]&&null!==r[i]?t(e[i]||{},r[i]):r[i];return o};t.HydrateState=function(t){var n=t.children,r=e.useState(!1),o=r[0],i=r[1];return e.useEffect(function(){i(!0)},[]),h(Fragment,null,o?h("div",null,n):null)},t.createStore=function(t,o){void 0===o&&(o=[]);for(var i=t({}),u=new Set,f=t,c=function(){return void 0===i&&(i=f(null),f=null),i},a=function(t){var e=r(i,t);(function(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;for(var n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(var r in e)if(e.hasOwnProperty(r)&&!t.hasOwnProperty(r))return!1;return!0})(i,e)||(i=e,u.forEach(function(t){return t(i)}))},s=function(t){return u.add(t),function(){u.delete(t)}},l={},d=function(){var t=v[p],e=t[1];"function"==typeof e&&(l[t[0]]=function(){var t=e.apply(void 0,[].slice.call(arguments))(i);a(t)})},p=0,v=Object.entries(t(i));p<v.length;p++)d();return o.forEach(function(t){return t({getState:c,setState:a,subscribe:s})}),function(t){void 0===t&&(t=c);var r=e.useRef(t(i)),o=e.useReducer(function(t){return t+1},0)[1];return e.useEffect(function(){var e=s(function(e){var n=t(e);r.current!==n&&(r.current=n,o())});return function(){e()}},[t]),n({},r.current,l,{getState:c,setState:a,subscribe:s})}},t.preserve=function(t,e,n){return function(r){var o=function(){try{if("undefined"!=typeof window){var n=window[t].getItem(e);if(n)return JSON.parse(n)}}catch(t){console.error("Error while loading persisted state:",t)}}();if(r.setState(o||r.getState()),"undefined"!=typeof window)try{return r.subscribe(function(r){!function(r){try{if("undefined"!=typeof window&&window[t]){var o={};n.forEach(function(t){o[t]=r[t]});var i=JSON.stringify(o);window[t].setItem(e,i)}}catch(t){console.error("Error while persisting state:",t)}}(r)})}catch(t){}}}});
//# sourceMappingURL=index.umd.js.map
